# 카테고리별로 가장 비싼 가격을 찾은 뒤
# 해당 가격에 해당하는 식품을 찾기
# SELECT * FROM FOOD_PRODUCT

SELECT F1.CATEGORY, F1.PRICE AS MAX_PRICE, F1.PRODUCT_NAME
FROM FOOD_PRODUCT F1 JOIN (
    SELECT CATEGORY, MAX(PRICE) AS MAXI
    FROM FOOD_PRODUCT
    WHERE CATEGORY IN ('과자', '국', '김치', '식용유')
    GROUP BY CATEGORY
) AS F2 ON F1.CATEGORY = F2.CATEGORY AND F1.PRICE = F2.MAXI
WHERE F1.CATEGORY IN ('과자', '국', '김치', '식용유')
ORDER BY MAX_PRICE DESC;
