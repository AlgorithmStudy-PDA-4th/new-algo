### 문제 요약
1. BFS 탐색을 통해 상근이네 집에서 출발하여 편의점들을 거쳐 페스티벌까지 갈 수 있는지 확인함
2. 각 편의점과 페스티벌에 도달할 수 있는지 맨해튼 거리(x좌표 차이 + y좌표 차이)가 1000미터 이하인지를 판단해 이동할 수 있는지 계산함.
3. 페스티벌에 도착할 수 있으면 "happy", 그렇지 않으면 "sad"를 출력함.

### 정답
```python
from collections import deque

def bfs():
    q = deque()
    q.append((home_x, home_y))
    while q:
        x, y = q.popleft()
        
        if abs(x - festival_x) + abs(y - festival_y) <= 1000:
            print('happy')
            return
        
        for i in range(n):
            if not visited[i]:
                new_x, new_y = graph[i]
                if abs(x - new_x) + abs(y - new_y) <= 1000:
                    visited[i] = 1
                    q.append((new_x, new_y))
    print('sad')
    return

t = int(input())
for _ in range(t):
    n = int(input())
    home_x, home_y = map(int, input().split())
    graph = []
    
    for _ in range(n):
        x, y = map(int, input().split())
        graph.append((x, y))
    
    festival_x, festival_y = map(int, input().split())
    visited = [0 for _ in range(n)]
    bfs()
```

### 풀이 과정
1. 입력 초기화
```python
t = int(input())  # 테스트 케이스의 수를 입력 받음
for _ in range(t):  # 각 테스트 케이스에 대해 반복
    n = int(input())  # 편의점의 개수 입력
    home_x, home_y = map(int, input().split())  # 상근이네 집의 좌표 입력
    graph = []  # 편의점들의 좌표를 저장할 리스트
```

2. 편의점 좌표 입력, 페스티벌 좌표 입력
```python
    for _ in range(n):  # 편의점 좌표 입력
        x, y = map(int, input().split())
        graph.append((x, y))  # 입력된 좌표를 graph 리스트에 저장
    
    festival_x, festival_y = map(int, input().split())  # 페스티벌 좌표 입력
    visited = [0 for _ in range(n)]  # 방문 기록을 위한 visited 배열 생성 (편의점 수만큼)
```

3. BFS 탐색 함수 정의
```python
def bfs():
    q = deque()  # BFS 탐색을 위한 큐 생성
    q.append((home_x, home_y))  # 상근이네 집 좌표를 큐에 추가
```

4. BFS 탐색
```python
    while q:
        x, y = q.popleft()  # 큐에서 좌표를 꺼냄
        
        if abs(x - festival_x) + abs(y - festival_y) <= 1000:  # 페스티벌에 도착 가능한지 확인
            print('happy')
            return
```

5. 편의점 탐색하고 큐에 추가
```python
        for i in range(n):  # 편의점들을 탐색
            if not visited[i]:  # 아직 방문하지 않은 편의점일 경우
                new_x, new_y = graph[i]  # 해당 편의점 좌표
                if abs(x - new_x) + abs(y - new_y) <= 1000:  # 현재 위치에서 편의점까지 1000미터 이하일 경우
                    visited[i] = 1  # 방문 처리
                    q.append((new_x, new_y))  # 그 편의점 좌표를 큐에 추가
```

6. 페스티벌에 도달하지 못한 경우
```python
    print('sad')
    return
```
